<div id="dash">
   <div class="top">
     <div class="container">
       <div class="back"></div>
       <div class="row">
         <div class="col-lg-5 name">
           <strong>{$LANG.headertext}</strong>
           <h1>{$clientsdetails.fullname}</h1>
           <a href="">{$clientsdetails.email}</a>
         </div>
         <div class="col-lg-7 right">
           <div>
             <div class="level">


             </div>
             <div class="bottom">
               <div class="account">
                 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="39" height="39" viewBox="0 0 39 39">
                   <g data-name="Mask Group 180">
                     <g data-name="Layer 2">
                       <g>
                         <rect data-name="Rectangle 1391" width="39" height="39" fill="#3aa1ff" opacity="0"/>
                         <path data-name="Path 2945" d="M34.255,11.375A3.25,3.25,0,0,0,31.492,9.75h-20.8L9.75,6.077a1.625,1.625,0,0,0-1.625-1.2H4.875a1.625,1.625,0,0,0,0,3.25H6.89L11.375,24.8A1.625,1.625,0,0,0,13,26H27.625a1.625,1.625,0,0,0,1.446-.894l5.33-10.66a3.25,3.25,0,0,0-.146-3.071ZM26.618,22.75H14.235L11.586,13H31.493Z" fill="#3aa1ff"/>
                         <circle data-name="Ellipse 131" cx="2.438" cy="2.438" r="2.438" transform="translate(9.75 29.25)" fill="#3aa1ff"/>
                         <circle data-name="Ellipse 132" cx="2.438" cy="2.438" r="2.438" transform="translate(26 29.25)" fill="#3aa1ff"/>
                       </g>
                     </g>
                   </g>
                 </svg>
                 <p>
                   Hesap Bakiyeniz:
                   <strong>{$clientsdetails.credit} TL</strong>
                 </p>
                 <a href="clientarea.php?action=addfunds">Bakiye Ekle</a>
               </div>
               <a href="clientarea.php?action=details">
                 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">
                   <g data-name="Mask Group 239" transform="translate(-1422 -211)">
                     <g data-name="Layer 2" transform="translate(1422 211)">
                       <g>
                         <rect data-name="Rectangle 1471" width="24" height="24" transform="translate(24 24) rotate(180)" fill="#fff" opacity="0"/>
                         <path data-name="&lt;Group&gt;" d="M12.94,22H11.05a1.68,1.68,0,0,1-1.68-1.68V19.23a.34.34,0,0,0-.22-.29.38.38,0,0,0-.41,0l-.74.8a1.67,1.67,0,0,1-2.37,0L4.26,18.4a1.66,1.66,0,0,1-.5-1.19A1.72,1.72,0,0,1,4.26,16L5,15.26a.34.34,0,0,0,0-.37c-.06-.15-.16-.26-.3-.26H3.68A1.69,1.69,0,0,1,2,12.94V11.05A1.68,1.68,0,0,1,3.68,9.37H4.77a.34.34,0,0,0,.29-.22.38.38,0,0,0,0-.41L4.26,8a1.67,1.67,0,0,1,0-2.37L5.6,4.26a1.65,1.65,0,0,1,1.18-.5A1.72,1.72,0,0,1,8,4.26L8.74,5a.34.34,0,0,0,.37,0c.15-.06.26-.16.26-.3V3.68A1.69,1.69,0,0,1,11.06,2H13a1.68,1.68,0,0,1,1.68,1.68V4.77a.34.34,0,0,0,.22.29.38.38,0,0,0,.41,0l.69-.8a1.67,1.67,0,0,1,2.37,0L19.74,5.6a1.67,1.67,0,0,1,.5,1.19A1.63,1.63,0,0,1,19.74,8L19,8.74a.34.34,0,0,0,0,.37c.06.15.16.26.3.26h1.09A1.69,1.69,0,0,1,22,11.06V13a1.68,1.68,0,0,1-1.68,1.68H19.23a.413.413,0,0,0-.29.59l.77.77a1.67,1.67,0,0,1,0,2.37L18.4,19.74a1.65,1.65,0,0,1-1.18.5,1.72,1.72,0,0,1-1.19-.5L15.26,19a.34.34,0,0,0-.37,0c-.15.06-.26.16-.26.3v1.09A1.69,1.69,0,0,1,12.94,22Zm-1.57-2h1.26v-.77a2.33,2.33,0,0,1,1.46-2.14,2.36,2.36,0,0,1,2.59.47l.54.54.88-.88-.54-.55a2.366,2.366,0,0,1,1.66-4.01H20V11.37h-.77a2.33,2.33,0,0,1-2.14-1.46,2.36,2.36,0,0,1,.47-2.59l.54-.54-.88-.88-.55.54a2.39,2.39,0,0,1-4-1.67V4h-1.3v.77A2.33,2.33,0,0,1,9.91,6.91a2.36,2.36,0,0,1-2.59-.47L6.78,5.9l-.88.88.54.55a2.39,2.39,0,0,1-1.67,4H4v1.26h.77a2.33,2.33,0,0,1,2.14,1.46,2.36,2.36,0,0,1-.47,2.59l-.54.54.88.88.55-.54a2.39,2.39,0,0,1,4,1.67Z" fill="#fff"/>
                         <path data-name="Path 2995" d="M12,15.5A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Zm0-5A1.5,1.5,0,1,0,13.5,12,1.5,1.5,0,0,0,12,10.5Z" fill="#fff"/>
                       </g>
                     </g>
                   </g>
                 </svg>
                 <span>Hesabım</span>
               </a>
               <a href="#">
                 <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24">
                   <g data-name="Mask Group 238" transform="translate(-1038 -213)">
                     <g data-name="Layer 2" transform="translate(1038 213)">
                       <g>
                         <rect data-name="Rectangle 1466" width="24" height="24" fill="#fff" opacity="0"/>
                         <path data-name="Path 2993" d="M19.5,9.319h-1V7.429a4,4,0,0,0-8,0v1.89h-1a3,3,0,0,0-3,3v8a3,3,0,0,0,3,3h10a3,3,0,0,0,3-3v-8A3,3,0,0,0,19.5,9.319Zm-7-1.89a2,2,0,1,1,4,0v1.89h-4Zm8,12.89a1,1,0,0,1-1,1H9.5a1,1,0,0,1-1-1v-8a1,1,0,0,1,1-1h10a1,1,0,0,1,1,1Z" transform="translate(-2.5 -1.319)" fill="#fff"/>
                         <path data-name="Path 2994" d="M17.625,19.5a3,3,0,1,0,3,3A3,3,0,0,0,17.625,19.5Zm0,4a1,1,0,1,1,1-1A1,1,0,0,1,17.625,23.5Z" transform="translate(-5.625 -7.5)" fill="#fff"/>
                       </g>
                     </g>
                   </g>
                 </svg>
                 <span>Şifre Güncelle</span>
               </a>
             </div>
           </div>
         </div>
       </div>
     </div>
   </div>
   <div class="detail container">
     <div>
       {include file="$template/includes/clienthead.tpl"}
       <div class="b">

 <section id="main-body">
     <div class="container{if $skipMainBodyContainer}-fluid without-padding{/if}">
         <div class="row">

         {if !$inShoppingCart && ($primarySidebar->hasChildren() || $secondarySidebar->hasChildren())}
             {if $primarySidebar->hasChildren() && !$skipMainBodyContainer}
                 <div class="col-md-9 pull-md-right">
                     {include file="$template/includes/pageheader.tpl" title=$displayTitle desc=$tagline showbreadcrumb=true}
                 </div>
             {/if}
             <div class="col-md-3 pull-md-left sidebar">
                 {include file="$template/includes/sidebar.tpl" sidebar=$primarySidebar}
             </div>
         {/if}
         <!-- Container for main page display content -->
         <div class="{if !$inShoppingCart && ($primarySidebar->hasChildren() || $secondarySidebar->hasChildren())}col-md-9 pull-md-right{else}col-xs-12{/if} main-content">
             {if !$primarySidebar->hasChildren() && !$showingLoginPage && !$inShoppingCart && $templatefile != 'homepage' && !$skipMainBodyContainer}
                 {include file="$template/includes/pageheader.tpl" title=$displayTitle desc=$tagline showbreadcrumb=true}
             {/if}

{if $createSuccess}
    {include file="$template/includes/alert.tpl" type="success" msg="<i class='fas fa-check fa-fw'></i> {$LANG.paymentMethods.addedSuccess}"}
{elseif $createFailed}
    {include file="$template/includes/alert.tpl" type="warning" msg="<i class='fas fa-times fa-fw'></i> {$LANG.paymentMethods.addFailed}"}
{elseif $saveSuccess}
    {include file="$template/includes/alert.tpl" type="success" msg="<i class='fas fa-check fa-fw'></i> {$LANG.paymentMethods.updateSuccess}"}
{elseif $saveFailed}
    {include file="$template/includes/alert.tpl" type="warning" msg="<i class='fas fa-check fa-fw'></i> {$LANG.paymentMethods.saveFailed}"}
{elseif $setDefaultResult === true}
    {include file="$template/includes/alert.tpl" type="success" msg="<i class='fas fa-check fa-fw'></i> {$LANG.paymentMethods.defaultUpdateSuccess}"}
{elseif $setDefaultResult === false}
    {include file="$template/includes/alert.tpl" type="warning" msg="<i class='fas fa-times fa-fw'></i> {$LANG.paymentMethods.defaultUpdateFailed}"}
{elseif $deleteResult === true}
    {include file="$template/includes/alert.tpl" type="success" msg="<i class='fas fa-check fa-fw'></i> {$LANG.paymentMethods.deleteSuccess}"}
{elseif $deleteResult === false}
    {include file="$template/includes/alert.tpl" type="warning" msg="<i class='fas fa-times fa-fw'></i> {$LANG.paymentMethods.deleteFailed}"}
{/if}

<p>{$LANG.paymentMethods.intro}</p>

<p>
    {if $allowCreditCard}
        <a href="{routePath('account-paymentmethods-add')}" class="btn btn-primary" data-role="add-new-credit-card">
            {$LANG.paymentMethods.addNewCC}
        </a>
    {/if}
    {if $allowBankDetails}
        <a href="{routePathWithQuery('account-paymentmethods-add', null, 'type=bankacct')}" class="btn btn-default">
            {$LANG.paymentMethods.addNewBank}
        </a>
    {/if}
</p>

<table class="table table-striped" id="payMethodList">
    <tr>
        <th></th>
        <th>{$LANG.paymentMethods.name}</th>
        <th>{$LANG.paymentMethods.description}</th>
        <th>{$LANG.paymentMethods.status}</th>
        <th colspan="2">{$LANG.paymentMethods.actions}</th>
    </tr>
    {foreach $client->payMethods->validateGateways() as $payMethod}
        <tr>
            <td>
                <i class="{$payMethod->getFontAwesomeIcon()}"></i>
            </td>
            <td>{$payMethod->payment->getDisplayName()}</td>
            <td>
                {if $payMethod->description}
                    {$payMethod->description}
                {else}
                    -
                {/if}
            </td>
            <td>{$payMethod->getStatus()}{if $payMethod->isDefaultPayMethod()} - {$LANG.paymentMethods.default}{/if}</td>
            <td>
                <a href="{routePath('account-paymentmethods-setdefault', $payMethod->id)}" class="btn btn-sm btn-default btn-set-default{if $payMethod->isDefaultPayMethod() || $payMethod->isExpired()} disabled{/if}">
                    {$LANG.paymentMethods.setAsDefault}
                </a>
                <a href="{routePath('account-paymentmethods-view', $payMethod->id)}" class="btn btn-sm btn-default{if $payMethod->getType() == 'RemoteBankAccount'} disabled{/if}" data-role="edit-payment-method">
                    <i class="fas fa-pencil"></i>
                    {$LANG.paymentMethods.edit}
                </a>
                {if $allowDelete}
                    <a href="{routePath('account-paymentmethods-delete', $payMethod->id)}" class="btn btn-sm btn-default btn-delete">
                        <i class="fas fa-trash"></i>
                        {$LANG.paymentMethods.delete}
                    </a>
                {/if}
            </td>
        </tr>
    {foreachelse}
        <tr>
            <td colspan="6" align="center">
                {$LANG.paymentMethods.noPaymentMethodsCreated}
            </td>
        </tr>
    {/foreach}
</table>

<form method="post" action="" id="frmDeletePaymentMethod">
<div class="modal fade" id="modalPaymentMethodDeleteConfirmation" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">{$LANG.paymentMethods.areYouSure}</h4>
      </div>
      <div class="modal-body">
        <p>{$LANG.paymentMethods.deletePaymentMethodConfirm}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">{$LANG.no}</button>
        <button type="submit" class="btn btn-primary">{$LANG.yes}</button>
      </div>
    </div>
  </div>
</div>
</form>

<form method="post" action="" id="frmSetDefaultPaymentMethod"></form>

<script>
    jQuery(document).ready(function() {
        jQuery('.btn-set-default').click(function(e) {
            e.preventDefault();
            jQuery('#frmSetDefaultPaymentMethod')
                .attr('action', jQuery(this).attr('href'))
                .submit();
        });
        jQuery('.btn-delete').click(function(e) {
            e.preventDefault();
            jQuery('#frmDeletePaymentMethod')
                .attr('action', jQuery(this).attr('href'));
            jQuery('#modalPaymentMethodDeleteConfirmation').modal('show');
        });
    });
</script>
